<section class="posts">
    <% page.posts.each(function (post) { %>
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="<%- url_for(post.path) %>"><%- post.title %></a>
        </div>
        <div class="post-meta">
            <span class="post-time"><%- date(post.date, "MMMM DD, YYYY") %></span>
        </div>
        <div class="post-pre" id="<%- post.title %>">
            <%- post.content %>
            <script>
                var html = document.getElementById('<%- post.title %>');
                if (navigator.userAgent.indexOf('AppleWebKit') != -1){
                    $clamp(html, {clamp: 5, useNativeClamp: false});
                } else {
                    $clamp(html, {clamp: 5, useNativeClamp: true});
                }
                document.getElementById('<%- post.title %>').value = html;
            </script>
        </div>
        <div class="post-read-more">
            <a href="<%- url_for(post.path) %>">Read More</a>
        </div>
    </article>
    <% }) %>
</section>
